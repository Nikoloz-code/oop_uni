# დესტრუქტორი.  მათი დანიშნულება, განსაკუთრებულობა.გამოყენების მაგალითი.

დესტრუქტორები არიან სპეციალური მეთოდები კლასებში რომლებსაც პროგრამა ავტომატურად
იძახებს როცა ობიექტი მეხსიერებიდან იშლება ან Scope-ს გარეთ გავა.

### დანიშნულება

დესტრუქტორები უზრუნველყოფენ ობიექტის მიერ დაკავებული მეხსიერების სწორ 
გათავსიუფლებას. ასევე თუ კლასი შეიცავს დინამიურად შექმნილ ცვლადებს მისი 
კორექტულად წაშლის კოდი დესტრუქტორის ტანში იწერება.

> [!CAUTION]
> მეხსიერების გათავსუფლება სწორად თუ არ მოხდა შეიძლება პროგრამამ მუშაობა 
  შეწყვიტოს მეხსიერების გაჟონვის შედეგად.

### განსაკუთრებულობა

- დესტრუქტორებს აქვთ იგივე სახელი რაც კლასს ოღონდ მათი სახელი იწყება ტილდეთი(~)
და **პარამეტრებს არ იღებს**
მაგალითად:
```cpp
class Shape {
public:
    ~Shape() {}
}
```
- კონსტრუქტორებისგან განსხვავებით, დესტრუქტორების გადატვირთვა არ შეიძლება, ყველა
კლასს მხოლოდ ერთი დესტრუქტორი აქვს 
- დესტრუქტორებს ან პროგრამა იძახებს ავტომატურად, ან პროგრამისტები `delete`
ოპერატორით როცა დინამიურად შექმნილი ცვლადები გვაქ
- კლასების იერარქიაში დესტრუქტორების გამოძახების რიგი იწყება შვილობილი 
კლასებიდან და ადის ფუძე კლასამდე

### მაგალითები

#### მარტივი დესტრუქტორი
```cpp
class Shape {
public:
    ~Shape() {}
};

int main() {
    Shape a;
    // პროგრამა ავტომატურად გამოიძახებს დესტრუქტორს აქ რადგან 
    // ობიექტი Scope-იდან გადის
}
```
#### დესტრუქტორი დინამიურად შექმნილი წევრისთვის
```cpp
#include <iostream>

class Resource {
private:
    int* ptr;
public:
    Resource() {
        ptr = new int[10];
    }
    
    ~Resource() {
        delete[] ptr; 
        std::cout << "Resource deallocated\n"; 
    }
};

int main() {
    Resource obj;
    // იგივე სიტუაცია აქაც, პროგრამა თავისით გამოიძახებს დესტრუქტორს
}
```

#### დესტრუქტორების გამოძახების რიგი კლასთა იერარქიაში
```cpp
#include <iostream>

class Base {
public:
    ~Base() {
        std::cout << "Base Destructor" << std::endl;
    }
};

class Derived : public Base {
public:
    ~Derived() {
        std::cout << "Derived Destructor" << std::endl;
    }
};

int main() {
    Derived obj;
}
```
პროგრამის შედეგი:
```
Derived Destructor
Base Destructor
```
